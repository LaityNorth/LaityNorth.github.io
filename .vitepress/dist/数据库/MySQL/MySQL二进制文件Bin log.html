<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>知识笔记</title>
    <meta name="description" content="知识记录">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/assets/style.BQkQAdH8.css" as="style">
    
    <script type="module" src="/assets/app.B4xy4LIE.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.DFHaK-wS.js">
    <link rel="modulepreload" href="/assets/chunks/theme.PuMHqAFi.js">
    <link rel="modulepreload" href="/assets/数据库_MySQL_MySQL二进制文件Bin log.md.q06doLtj.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-41f684b6><div class="wrapper" data-v-41f684b6><div class="container" data-v-41f684b6><div class="title" data-v-41f684b6><div class="VPNavBarTitle has-sidebar" data-v-41f684b6 data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>知识笔记</span><!--[--><!--]--></a></div></div><div class="content" data-v-41f684b6><div class="content-body" data-v-41f684b6><!--[--><!--]--><div class="VPNavBarSearch search" data-v-41f684b6><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-41f684b6 data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E6%96%87%E7%AB%A0/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>文章</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>数据库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Redis/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Redis</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>分布式锁</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>消息队列</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>环境搭建</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/index.html" tabindex="0" data-v-f732b5d0 data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>踩坑记录</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-41f684b6 data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-41f684b6 data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-41f684b6 data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-41f684b6><div class="divider-line" data-v-41f684b6></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-c4485731><div class="curtain" data-v-c4485731></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c4485731><span class="visually-hidden" id="sidebar-aria-label" data-v-c4485731> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c4485731><section class="VPSidebarItem level-0 has-active" data-v-c4485731 data-v-c24f735a><div class="item" role="button" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><h2 class="text" data-v-c24f735a>MySQL</h2><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%BA%8B%E5%8A%A1%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%86.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>事务基础认识</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E9%94%81.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>锁</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>查询优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>索引优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6MVCC.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>MVCC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%BA%8B%E5%8A%A1%E6%97%A5%E5%BF%97%E4%B9%8BRedo%E6%97%A5%E5%BF%97.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Redo日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6Bin%20log.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>Binlog日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>主从复制</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>目录</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _%E6%95%B0%E6%8D%AE%E5%BA%93_MySQL_MySQL%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6Bin%20log" data-v-e6f2a212><div><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>binlog可以说是MySQL中比较 重要的日志了，在日常开发及运维过程中，经常会遇到。 binlog即binary log，二进制日志文件，也叫作变更日志（update log）。它记录了数据库所有执行的 DDL和 DML等数据库更新事件的语句，但是不包含没有修改任何数据的语句（如数据查询语句select、 show等）。</p><p>它以<span style="color:#0080c0;">事件形式</span>记录并保存在<span style="color:#0080c0;">二进制文件</span>中。通过这些信息，我们可以再现数据更新操作的全过程。</p><blockquote><p>如果想要记录所有语句（例如：为了识别有问题的查询），需要使用通用查询日志。</p></blockquote><p>binlog主要应用场景：</p><ul><li><p>一是用于<span style="color:#0080c0;"> 数据恢复</span>，如果MySQL数据库意外停止，可以通过二进制文件来查看用户执行了那些操作，对数据库服务器文件做了哪些修改，然后根据二进制文件中的记录来恢复数据库服务器。</p></li><li><p>二是用于<span style="color:#0080c0;"> 数据复制</span>，由于日志的延续性和时效性，master把它的二进制日志传递给slaves来达到master-&gt;slave数据一致的目的。</p></li></ul><p><img src="/assets/Snipaste_2024-06-30_18-05-27.DD5xsc00.png" alt="Snipaste_2024-06-30_18-05-27.png"></p><p>可以说MySQL数据的<span style="color:#0080c0;">数据备份、主备、主主、主从</span>都离不开binlog，需要依靠binlog来同步数据，保证数据一致性。</p><h2 id="日志参数设置" tabindex="-1">日志参数设置 <a class="header-anchor" href="#日志参数设置" aria-label="Permalink to &quot;日志参数设置&quot;">​</a></h2><p>查看记录二进制日志是否开启：在MySQL8中默认情况下，二进制文件是开启的。</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%log_bin%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="永久性方式" tabindex="-1">永久性方式 <a class="header-anchor" href="#永久性方式" aria-label="Permalink to &quot;永久性方式&quot;">​</a></h3><p>修改MySQL的my.cnf或my.ini文件可以设置二进制日志的相关参数</p><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#启用二进制日志</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">log-bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=atguigu-bin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">binlog_expire_logs_seconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=600</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">max_binlog_size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100M</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="tip custom-block github-alert"><p class="custom-block-title">提示</p><p></p><ol><li><p>log-bin=mysql-bin #打开日志(主机需要打开)，这个mysql-bin也可以自定义，这里也可以加上路径， 如：/home/www/mysql_bin_log/mysql-bin</p></li><li><p>binlog_expire_logs_seconds:此参数控制二进制日志文件保留的时长，单位是秒，默认2592000 30天， 14400 4小时 ，86400 1天，259200 3天。</p></li><li><p>max_binlog_size：控制单个二进制日志大小，当前日志文件大小超过此变量时，执行切换动作。此参数的最大值和默认值是1GB，该设置并不能严格控制Binlog的大小，尤其是Binlog比较靠近最大值而又遇到一个比较大事务时，为了保证事务的完整性，可能不做切换日志的动作，只能将该事务的所有SQL都记录进当前日志，直到事务结束。一般情况可采取默认值。</p></li></ol></div><p>重新启动MySQL服务，查询二进制日志的信息，执行结果</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> show variables </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">like</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%log_bin%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">---------------------------------+----------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| Variable_name | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">---------------------------------+----------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| log_bin | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| log_bin_basename | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lib</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">atguigu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| log_bin_index | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">var</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lib</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">atguigu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| log_bin_trust_function_creators | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| log_bin_use_v1_row_events | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">| sql_log_bin | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">---------------------------------+----------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> rows</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sec)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>设置带文件夹的bin-log日志存放目录</p><p>如果想改变日志文件的目录和名称，可以对my.cnf或my.ini中的log_bin参数修改如下</p><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">log-bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/lib/mysql/binlog/atguigu-bin&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block github-alert"><p class="custom-block-title">注意</p><p>新建的文件夹需要使用mysql用户，使用下面的命令即可。</p></div><h3 id="临时性方式" tabindex="-1">临时性方式 <a class="header-anchor" href="#临时性方式" aria-label="Permalink to &quot;临时性方式&quot;">​</a></h3><p>如果不希望通过修改配置文件并重启的方式设置二进制日志的话，还可以使用如下指令，需要注意的是在mysql8中只有会话级别的设置，没有了global级别的设置。</p><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># global 级别</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql&gt; set global </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sql_log_bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ERROR 1228 (HY000): Variable </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sql_log_bin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> is a SESSION variable and can`t be used</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">with SET GLOBAL</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># session级别</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql&gt; SET </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sql_log_bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Query OK, 0 rows affected (0.01 秒)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="查看日志" tabindex="-1">查看日志 <a class="header-anchor" href="#查看日志" aria-label="Permalink to &quot;查看日志&quot;">​</a></h2><p>当MySQL创建二进制日志文件时，先创建一个以“filename”为名称、以“.index”为后缀的文件，再创建一个以“filename”为名称、以“.000001”为后缀的文件。</p><p>MySQL服务<span style="color:#0080c0;">重新启动一次</span>，以“.000001”为后缀的文件就会增加一个，并且后缀名按1递增。</p><p>即日志文件的个数与MySQL服务启动的次数相同；如果日志长度超过了<span style="color:#0080c0;"> max_binlog_size</span> 的上限（默认是1GB），就会创建一个新的日志文件。 查看当前的二进制日志文件列表及大小。指令如下：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BINARY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LOGS;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下面命令将行事件以 <span style="color:#0080c0;">伪SQL的形式</span>表现出来</p><div class="language-properties vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysqlbinlog -v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;binlog存在的完整路径&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上面这种办法读取出binlog日志的全文内容比较多，不容易分辨查看到pos点信息，下面介绍一种更为方 便的查询命令：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> show binlog events [IN &#39;log_name&#39;] [FROM pos] [LIMIT [offset,] row_count];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p><span style="color:#0080c0;">IN &#39;log_name&#39; ：</span>指定要查询的binlog文件名（不指定就是第一个binlog文件）</p></li><li><p><span style="color:#0080c0;">FROM pos ：</span>指定从哪个pos起始点开始查起（不指定就是从整个文件首个pos点开始算）</p></li><li><p><span style="color:#0080c0;">LIMIT [offset] ：</span>偏移量(不指定就是0)</p></li><li><p><span style="color:#0080c0;">row_count :</span>查询总条数（不指定就是所有行）</p></li></ul><h2 id="使用日志恢复数据" tabindex="-1">使用日志恢复数据 <a class="header-anchor" href="#使用日志恢复数据" aria-label="Permalink to &quot;使用日志恢复数据&quot;">​</a></h2><p>MySQL binlog恢复数据的语法如下</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysqlbinlog [option] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|mysql –uuser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ppass;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令可以这样理解：使用mysqlbinlog命令来读取filename中的内容，然后使用mysql命令将这些内容 恢复到数据库中。</p><ul><li><p>filename</p><p>日志文件名。</p></li><li><p>option</p><p>可选项，比较重要的两对option参数是--start-date、--stop-date 和 --start-position、-- stop-position。</p><p>--start-date 和 --stop-date：可以指定恢复数据库的起始时间点和结束时间点。</p><p>--start-position和--stop-position：可以指定恢复数据的开始位置和结束位置。</p><div class="tip custom-block github-alert"><p class="custom-block-title">注意</p><p>使用mysqlbinlog命令进行恢复操作时，必须是编号小的先恢复，例如atguigu-bin.000001必 须在atguigu-bin.000002之前恢复。</p></div></li></ul><h2 id="删除二进制日志" tabindex="-1">删除二进制日志 <a class="header-anchor" href="#删除二进制日志" aria-label="Permalink to &quot;删除二进制日志&quot;">​</a></h2><p>MySQL的二进制文件可以配置自动删除，同时MySQL也提供了安全的手动删除二进制文件的方法。</p><p><span style="color:#0080c0;">PURGE MASTER LOGS </span>只删除指定部分的二进制日志文件，</p><p><span style="color:#0080c0;">RESET MASTER </span>删除所有的二进制日志文 件。具体如下：</p><p>PURGE MASTER LOGS：删除指定日志文件</p><div class="tip custom-block github-alert"><p class="custom-block-title">语法</p><p></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PURGE {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MASTER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BINARY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} LOGS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ‘指定日志文件名’</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PURGE {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MASTER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BINARY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} LOGS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BEFORE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ‘指定日期’</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><h2 id="写入机制" tabindex="-1">写入机制 <a class="header-anchor" href="#写入机制" aria-label="Permalink to &quot;写入机制&quot;">​</a></h2><p>binlog的写入时机也非常简单，事务执行过程中，先把日志写到<span style="color:#0080c0;"> binlog cache</span>，事务提交的时候，再把binlog cache写到binlog文件中。</p><p>因为一个事务的binlog不能被拆开，无论这个事务多大，也要确保一 次性写入，所以系统会给每个线程分配一个块内存作为binlog cache。</p><p><img src="/assets/Snipaste_2024-06-30_18-13-49.ieYqfnst.png" alt="Snipaste_2024-06-30_18-13-49.png"></p><p>write和fsync的时机，可以由参数<span style="color:#0080c0;"> sync_binlog</span> 控制，默认是 0 。</p><p>为0的时候，表示每次提交事务都只write，由系统自行判断什么时候执行fsync。</p><p>虽然性能得到提升，但是机器宕机，page cache里面的 binglog 会丢失。</p><p>如下图：<img src="/assets/Snipaste_2024-06-30_18-14-11.CyTeBA8M.png" alt="Snipaste_2024-06-30_18-14-11.png"></p><p>为了安全起见，可以设置为1 ，表示每次提交事务都会执行fsync，就如同<span style="color:#0080c0;">redo log 刷盘流程一样</span>。</p><p>最后还有一种折中方式，可以设置为N(N&gt;1)，表示每次提交事务都write，但累积N个事务后才fsync。</p><p><img src="/assets/Snipaste_2024-06-30_18-15-47.BNX8Fv6j.png" alt="Snipaste_2024-06-30_18-15-47.png"></p><p>在出现IO瓶颈的场景里，将sync_binlog设置成一个比较大的值，可以提升性能。同样的，如果机器宕 机，会丢失最近N个事务的binlog日志。</p><h2 id="两阶段提交" tabindex="-1">两阶段提交 <a class="header-anchor" href="#两阶段提交" aria-label="Permalink to &quot;两阶段提交&quot;">​</a></h2><p>在执行更新语句过程，会记录redo log与binlog两块日志，以基本的事务为单位，redo log在事务执行过程 中可以不断写入，而binlog只有在提交事务时才写入，所以redo log与binlog的 写入时机 不一样。</p><p><img src="/assets/Snipaste_2024-06-30_18-16-43.CSOilTqg.png" alt="Snipaste_2024-06-30_18-16-43.png"></p><blockquote><p>redo log与binlog两份日志之间的逻辑不一致，会出现什么问题？</p></blockquote><p><img src="/assets/Snipaste_2024-06-30_18-17-12.CjTruKQP.png" alt="Snipaste_2024-06-30_18-17-12.png"></p><p>由于binlog没写完就异常，这时候binlog里面没有对应的修改记录</p><p><img src="/assets/Snipaste_2024-06-30_18-17-30.gV3K9UMg.png" alt="Snipaste_2024-06-30_18-17-30.png"></p><p>为了解决两份日志之间的逻辑一致问题，InnoDB存储引擎使用<span style="color:#0080c0;">两阶段提交方案。</span></p><p><img src="/assets/Snipaste_2024-06-30_18-17-49.BaUoXwuA.png" alt="Snipaste_2024-06-30_18-17-49.png"></p><p>另一个场景，redo log设置commit阶段发生异常，那会不会回滚事务呢？</p><p><img src="/assets/Snipaste_2024-06-30_18-18-18.BAFpi2Du.png" alt="Snipaste_2024-06-30_18-18-18.png"></p><p>并不会回滚事务，它会执行上图框住的逻辑，虽然redo log是处于prepare阶段，但是能通过事务id找到对 应的binlog日志，所以MySQL认为是完整的，就会提交事务恢复数据。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-5941af80><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5941af80><span class="visually-hidden" id="doc-footer-aria-label" data-v-5941af80>Pager</span><div class="pager" data-v-5941af80><a class="VPLink link pager-link prev" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%BA%8B%E5%8A%A1%E6%97%A5%E5%BF%97%E4%B9%8BRedo%E6%97%A5%E5%BF%97.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Previous page</span><span class="title" data-v-5941af80>Redo日志</span><!--]--></a></div><div class="pager" data-v-5941af80><a class="VPLink link pager-link next" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Next page</span><span class="title" data-v-5941af80>主从复制</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"redis_redis的set数据结构---实现共同好友的微关系.md\":\"17qrbpvD\",\"redis_redis缓存击穿.md\":\"_JqyFoyG\",\"redis_redis string数据类型实战案例.md\":\"BSww8W0I\",\"redis_index.md\":\"DhzRaz5y\",\"redis_redis的hash数据结构---实现类似微博用户注册_发送微博.md\":\"BEwr6OlH\",\"redis_redis缓存雪崩.md\":\"qaKcom6b\",\"index.md\":\"CUxkNF5k\",\"redis_redis的set数据结构---实现抽奖功能.md\":\"ClHTWQsc\",\"redis_redis数据结构list.md\":\"DjtmafXj\",\"redis_redis缓存穿透.md\":\"Cgtjn5Gx\",\"redis_redis数据结构hash.md\":\"B-__rPtv\",\"redis_springboot_redis_hash存储课程信息和相关api学习.md\":\"Dtu-Yzej\",\"redis_redis的set数据结构---实现关注和粉丝的分析.md\":\"C064qcjr\",\"消息队列_rabbitmq_rabbitmq解决消息堆积和消息丢失问题.md\":\"B41lX4A-\",\"redis_redis操作lua脚本.md\":\"qw-7bXIj\",\"数据库_mysql_mysql索引优化.md\":\"D5t7E6wG\",\"redis_淘宝京东商品分布式全局id.md\":\"Dn0Kzz3L\",\"redis_springboot_redis_lua防止（黑客）ip重复防刷攻击.md\":\"BCIwMN5x\",\"redis_redis的list数据结构---实现淘宝京东特价商品列表.md\":\"QSU0GxN6\",\"环境搭建_windows系统nacos安装.md\":\"wSSKPmij\",\"文章_index.md\":\"BH8EgWRw\",\"踩坑记录_index.md\":\"BeFh0vc-\",\"redis_redis数据结构set.md\":\"CNdP2EjC\",\"环境搭建_linux系统安装jenkins.md\":\"CEngYUI_\",\"redis_redis数据结构string.md\":\"CTb2oSnJ\",\"redis_redis的set数据结构---实现淘宝京东黑白名单的过滤校验器.md\":\"Dx6EN9eX\",\"环境搭建_linux上部署nacos集群.md\":\"K01Bf3XK\",\"环境搭建_linux安装maven.md\":\"BA7u7_Hc\",\"redis_基于范围的规则递增(分布式订单编号).md\":\"DuGljkeG\",\"分布式锁_index.md\":\"CznZpeuZ\",\"数据库_mysql_mysql锁.md\":\"Cwjp852A\",\"环境搭建_linux上安装jdk1.8.md\":\"Uh6AExbB\",\"数据库_mysql_mysql事务日志之redo日志.md\":\"D-Y5yOdX\",\"数据库_mysql_mysql查询优化.md\":\"DJPKVhUD\",\"redis_springboot连接redis.md\":\"Du8Q-STz\",\"环境搭建_windows安装mongodb.md\":\"Bd33wwBL\",\"环境搭建_linux安装mongodb.md\":\"CGzAOFP-\",\"分布式锁_基于redis的方式分布式锁.md\":\"BObjME3c\",\"环境搭建_linux上安装mysql.md\":\"vCK6xJKU\",\"分布式锁_基于redisson的方式实现分布式锁.md\":\"CD6_koT2\",\"数据库_mysql_mysql主从复制.md\":\"oYsqDU6y\",\"redis_redis布隆过滤器.md\":\"BAyZk_nG\",\"redis_springboot_redis_lua防止（黑客）ip重复防刷攻击-注解版本.md\":\"CtemjCNk\",\"数据库_mysql_mysql多版本并发控制mvcc.md\":\"9xenrcKA\",\"环境搭建_linux系统安装docker.md\":\"DNhErmX5\",\"环境搭建_index.md\":\"Doj3A8bI\",\"环境搭建_windows解压安装mysql5.7.md\":\"BqtzQjV0\",\"数据库_index.md\":\"DiZYpU_q\",\"数据库_mysql_mysql事务基础认识.md\":\"Dpt0CGoZ\",\"消息队列_rabbitmq_springboot整合rabbitmq的实战开发问题可靠生产问题.md\":\"D1UWGc4K\",\"消息队列_rabbitmq_rabbitmq如何通过持久化保证消息不丢失.md\":\"VrsLPACf\",\"消息队列_index.md\":\"CSTveu2f\",\"消息队列_rabbitmq_rabbitmq死信队列实战.md\":\"5Lhrzp-t\",\"消息队列_rabbitmq_springboot整合rabbitmq.md\":\"BoKT7JSH\",\"环境搭建_linux上安装nginx.md\":\"p3IlZKFZ\",\"数据库_mysql_mysql二进制文件bin log.md\":\"q06doLtj\",\"踩坑记录_阿里云oss图片上传成功不能预览.md\":\"LTe_vXUa\",\"分布式锁_基于zookeeper的方式实现分布式锁.md\":\"BJk_6mon\",\"消息队列_rabbitmq_springboot整合rabbitmq的实战开发问题可靠消费问题.md\":\"IP55FFWY\",\"文章_linux常用命令.md\":\"DIVGnOUq\",\"分布式锁_基于数据库的乐观锁和悲观锁.md\":\"ao8dX96Y\",\"redis_redis的hash数据结构---实现购物车功能.md\":\"CDYZo0_l\",\"环境搭建_linux上安装rabbitmq.md\":\"p_G4CPfK\",\"环境搭建_linux上安装redis.md\":\"DN_2W4wd\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"知识笔记\",\"description\":\"知识记录\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outlineTitle\":\"目录\",\"outline\":[2,6],\"nav\":[{\"text\":\"文章\",\"link\":\"/文章/index\"},{\"text\":\"数据库\",\"link\":\"/数据库/index\"},{\"text\":\"Redis\",\"link\":\"/Redis/index\"},{\"text\":\"分布式锁\",\"link\":\"/分布式锁/index\"},{\"text\":\"消息队列\",\"link\":\"/消息队列/index\"},{\"text\":\"环境搭建\",\"link\":\"/环境搭建/index\"},{\"text\":\"踩坑记录\",\"link\":\"/踩坑记录/index\"}],\"sidebar\":{\"/文章/\":[{\"text\":\"文章\",\"items\":[{\"text\":\"Linux常用命令\",\"link\":\"/文章/Linux常用命令\"}]}],\"/数据库/\":[{\"text\":\"MySQL\",\"items\":[{\"text\":\"事务基础认识\",\"link\":\"/数据库/MySQL/MySQL事务基础认识\"},{\"text\":\"锁\",\"link\":\"/数据库/MySQL/MySQL锁\"},{\"text\":\"查询优化\",\"link\":\"/数据库/MySQL/MySQL查询优化\"},{\"text\":\"索引优化\",\"link\":\"/数据库/MySQL/MySQL索引优化\"},{\"text\":\"MVCC\",\"link\":\"/数据库/MySQL/MySQL多版本并发控制MVCC\"},{\"text\":\"Redo日志\",\"link\":\"/数据库/MySQL/MySQL事务日志之Redo日志\"},{\"text\":\"Binlog日志\",\"link\":\"/数据库/MySQL/MySQL二进制文件Bin log\"},{\"text\":\"主从复制\",\"link\":\"/数据库/MySQL/MySQL主从复制\"}]}],\"/Redis/\":[{\"text\":\"Redis数据结构\",\"items\":[{\"text\":\"String\",\"link\":\"/Redis/Redis数据结构String\"},{\"text\":\"List\",\"link\":\"/Redis/Redis数据结构List\"},{\"text\":\"Hash\",\"link\":\"/Redis/Redis数据结构Hash\"},{\"text\":\"Set\",\"link\":\"/Redis/Redis数据结构Set\"}]},{\"text\":\"Redis实战案例\",\"collapsed\":true,\"items\":[{\"text\":\"String数据结构实战案例\",\"link\":\"/Redis/Redis String数据类型实战案例\"},{\"text\":\"范围的规则递增全局ID案例\",\"link\":\"/Redis/基于范围的规则递增(分布式订单编号)\"},{\"text\":\"分布式全局ID案例\",\"link\":\"/Redis/淘宝京东商品分布式全局ID\"},{\"text\":\"SpringBoot整合Redis案例\",\"link\":\"/Redis/SpringBoot连接Redis\"},{\"text\":\"Redis中使用Lua脚本案例\",\"link\":\"/Redis/Redis操作Lua脚本\"},{\"text\":\"Lua脚本限流简单案例\",\"link\":\"/Redis/SpringBoot+Redis+Lua防止（黑客）IP重复防刷攻击\"},{\"text\":\"Lua脚本限流注解版案例\",\"link\":\"/Redis/SpringBoot+Redis+Lua防止（黑客）IP重复防刷攻击-注解版本\"},{\"text\":\"Hash课程案例\",\"link\":\"/Redis/SpringBoot+Redis+Hash存储课程信息和相关API学习\"},{\"text\":\"Hash注册案例\",\"link\":\"/Redis/Redis的Hash数据结构---实现类似微博用户注册&发送微博\"},{\"text\":\"Hash购物车案例\",\"link\":\"/Redis/Redis的Hash数据结构---实现购物车功能\"},{\"text\":\"Set数据结构实现抽奖案例\",\"link\":\"/Redis/Redis的Set数据结构---实现抽奖功能\"},{\"text\":\"Set数据结构实现黑白名单案例\",\"link\":\"/Redis/Redis的Set数据结构---实现淘宝京东黑白名单的过滤校验器\"},{\"text\":\"Set数据结构实现关注、粉丝案例\",\"link\":\"/Redis/Redis的Set数据结构---实现关注和粉丝的分析\"},{\"text\":\"Set数据结构实现共同好友案例\",\"link\":\"/Redis/Redis的Set数据结构---实现共同好友的微关系\"},{\"text\":\"List数据结构实现特价商品案例\",\"link\":\"/Redis/Redis的List数据结构---实现淘宝京东特价商品列表\"},{\"text\":\"布隆过滤器案例\",\"link\":\"/Redis/Redis布隆过滤器\"},{\"text\":\"缓存击穿\",\"link\":\"/Redis/Redis缓存击穿\"},{\"text\":\"缓存穿透\",\"link\":\"/Redis/Redis缓存穿透\"},{\"text\":\"缓存雪崩\",\"link\":\"/Redis/Redis缓存雪崩\"}]}],\"/分布式锁/\":[{\"text\":\"分布式锁\",\"items\":[{\"text\":\"数据库锁案例\",\"link\":\"/分布式锁/基于数据库的乐观锁和悲观锁\"},{\"text\":\"Redis分布式锁案例\",\"link\":\"/分布式锁/基于Redis的方式分布式锁\"},{\"text\":\"Readisson分布式锁案例\",\"link\":\"/分布式锁/基于Redisson的方式实现分布式锁\"},{\"text\":\"Zookeeper分布式锁案例\",\"link\":\"/分布式锁/基于Zookeeper的方式实现分布式锁\"}]}],\"/消息队列/\":[{\"text\":\"RabbitMQ\",\"items\":[{\"text\":\"SpringBoot整合RabbitMQ\",\"link\":\"/消息队列/RabbitMQ/SpringBoot整合RabbitMQ\"},{\"text\":\"消息持久化\",\"link\":\"/消息队列/RabbitMQ/RabbitMQ如何通过持久化保证消息不丢失\"},{\"text\":\"死信队列\",\"link\":\"/消息队列/RabbitMQ/RabbitMQ死信队列实战\"},{\"text\":\"可靠消费\",\"link\":\"/消息队列/RabbitMQ/SpringBoot整合RabbitMQ的实战开发问题可靠消费问题\"},{\"text\":\"可靠生产\",\"link\":\"/消息队列/RabbitMQ/SpringBoot整合RabbitMQ的实战开发问题可靠生产问题\"},{\"text\":\"解决消息堆积丢失问题\",\"link\":\"/消息队列/RabbitMQ/RabbitMQ解决消息堆积和消息丢失问题\"}]},{\"text\":\"RocketMQ\",\"item\":[]}],\"/踩坑记录/\":[{\"text\":\"踩坑记录\",\"items\":[{\"text\":\"阿里OSS图片不能预览\",\"link\":\"/踩坑记录/阿里云oss图片上传成功不能预览\"}]}],\"/环境搭建/\":[{\"text\":\"Linux环境搭建\",\"items\":[{\"text\":\"安装JDK\",\"link\":\"/环境搭建/Linux上安装Jdk1.8\"},{\"text\":\"安装Redis\",\"link\":\"/环境搭建/Linux上安装Redis\"},{\"text\":\"安装MySQL\",\"link\":\"/环境搭建/Linux上安装MYSQL\"},{\"text\":\"安装MongoDB\",\"link\":\"/环境搭建/Linux安装MongoDB\"},{\"text\":\"安装Nginx\",\"link\":\"/环境搭建/Linux上安装Nginx\"},{\"text\":\"安装RabbitMQ\",\"link\":\"/环境搭建/Linux上安装RabbitMQ\"},{\"text\":\"安装Nacos\",\"link\":\"/环境搭建/Linux上部署Nacos集群\"},{\"text\":\"安装Jenkins\",\"link\":\"/环境搭建/Linux系统安装Jenkins\"},{\"text\":\"安装Docker\",\"link\":\"/环境搭建/Linux系统安装Docker\"},{\"text\":\"安装Maven\",\"link\":\"/环境搭建/Linux安装Maven\"}]},{\"text\":\"Windos环境搭建\",\"items\":[{\"text\":\"安装Nacose\",\"link\":\"/环境搭建/Windows系统Nacos安装\"},{\"text\":\"安装MongoDB\",\"link\":\"/环境搭建/Windows安装MongoDB\"},{\"text\":\"解压安装MySQL\",\"link\":\"/环境搭建/Windows解压安装MYSQL5.7\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>