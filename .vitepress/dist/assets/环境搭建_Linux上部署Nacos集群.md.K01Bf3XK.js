import{_ as s,c as a,o as i,a1 as n}from"./chunks/framework.DFHaK-wS.js";const e="/assets/26912492-cec839b41b934407.DVlGI9az.png",c="/assets/26912492-ce0132fb99987d2a.Ch2KEOVl.png",t="data:image/png;base64,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",p="/assets/26912492-6a5952820d7407fe.QS4aZWjf.png",l="/assets/26912492-cb18e5591d0265ba.DhY-iU8Y.png",o="/assets/26912492-f83f17875452883c.B_7oBbSD.png",O=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"环境搭建/Linux上部署Nacos集群.md","filePath":"环境搭建/Linux上部署Nacos集群.md"}'),r={name:"环境搭建/Linux上部署Nacos集群.md"},h=n('<p>首先linux系统上得有一个Nginx和一个Mysql数据库</p><p>Linux上安装Nginx：<a href="https://www.jianshu.com/p/838671506a8b" target="_blank" rel="noreferrer">https://www.jianshu.com/p/838671506a8b</a></p><p>Linux上安装Mysql：<a href="https://www.jianshu.com/p/5a8b25f23dd7" target="_blank" rel="noreferrer">https://www.jianshu.com/p/5a8b25f23dd7</a></p><h3 id="_1、首先在github上-下载一个linux版的nacos" tabindex="-1">1、首先在github上，下载一个Linux版的Nacos <a class="header-anchor" href="#_1、首先在github上-下载一个linux版的nacos" aria-label="Permalink to &quot;1、首先在github上，下载一个Linux版的Nacos&quot;">​</a></h3><p>网址：<a href="https://github.com/alibaba/nacos/" target="_blank" rel="noreferrer">https://github.com/alibaba/nacos/</a><img src="'+e+'" alt="image-20211109191810729.png"></p><h3 id="_2、将下载好的压缩包上传到linux系统存放nacos的目录文件夹下" tabindex="-1">2、将下载好的压缩包上传到Linux系统存放nacos的目录文件夹下 <a class="header-anchor" href="#_2、将下载好的压缩包上传到linux系统存放nacos的目录文件夹下" aria-label="Permalink to &quot;2、将下载好的压缩包上传到Linux系统存放nacos的目录文件夹下&quot;">​</a></h3><h3 id="_3、解压nacos压缩包" tabindex="-1">3、解压nacos压缩包 <a class="header-anchor" href="#_3、解压nacos压缩包" aria-label="Permalink to &quot;3、解压nacos压缩包&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tar -zxvf nacos-server-2.0.3.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4、复制配置文件" tabindex="-1">4、复制配置文件 <a class="header-anchor" href="#_4、复制配置文件" aria-label="Permalink to &quot;4、复制配置文件&quot;">​</a></h3><p>分别复制<code>bin</code>目录下的<code>startup.sh</code>文件为startup.sh.bk，<code>conf</code>目录文件下的<code>application.properties</code>为application.properties.init和<code>cluster.conf.example</code>为cluster.conf</p><p>注意：备份的文件名称可以随意取</p><h3 id="_5、修改配置文件" tabindex="-1">5、修改配置文件 <a class="header-anchor" href="#_5、修改配置文件" aria-label="Permalink to &quot;5、修改配置文件&quot;">​</a></h3><p>修改<code>cluster.conf</code>为文件，使用<code>hostname -i</code>，查看当前的IP地址。修改每台nacos的端口号。</p><p>文件修改之前：</p><p><img src="'+c+'" alt="image-20211109192336549.png"></p><p>文件修改之后:</p><p><img src="'+t+'" alt="image-20211109192524607.png"></p><h3 id="_6、修改nacos配置文件-使用mysql做配置持久化" tabindex="-1">6、修改Nacos配置文件，使用MySQL做配置持久化 <a class="header-anchor" href="#_6、修改nacos配置文件-使用mysql做配置持久化" aria-label="Permalink to &quot;6、修改Nacos配置文件，使用MySQL做配置持久化&quot;">​</a></h3><p>修改<code>conf</code>目录下的<code>application.properties</code>配置文件。因为每个Nacos中都内嵌了一个<code>derby</code>数据库，搭建集群会造成数据库数据不一致性问题。所有要建一个mysql数据库(<code>nacos</code>)，来保证nacos集群数据库一致性问题。在<code>conf</code>目录下有一个<code>nacos-mysql.sql</code>文件，执行这个数据库脚本，并在<code>application.properties</code>配置即可</p><p><img src="'+p+`" alt="image-20211110100316710.png"></p><h3 id="_7、在ngin启动配置文件代理nacos服务" tabindex="-1">7、在Ngin启动配置文件代理nacos服务 <a class="header-anchor" href="#_7、在ngin启动配置文件代理nacos服务" aria-label="Permalink to &quot;7、在Ngin启动配置文件代理nacos服务&quot;">​</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">upstream</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cluster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 172.23.226.92:8847;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 172.23.226.92:8848;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 172.23.226.92:8849;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> localhost;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://cluster;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="`+l+`" alt="image-20211110104920514.png"></p><h3 id="_8、进入安装nacos的bin目录启动服务" tabindex="-1">8、进入安装nacos的bin目录启动服务 <a class="header-anchor" href="#_8、进入安装nacos的bin目录启动服务" aria-label="Permalink to &quot;8、进入安装nacos的bin目录启动服务&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 启动服务</span></span>
<span class="line"><span>./startup.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_9、查看nacos集群是否配置成功" tabindex="-1">9、查看Nacos集群是否配置成功 <a class="header-anchor" href="#_9、查看nacos集群是否配置成功" aria-label="Permalink to &quot;9、查看Nacos集群是否配置成功&quot;">​</a></h3><p>打开浏览器，输入<code>ip地址/nacos</code>访问，出现如下页面，即nacos集群部署成功</p><p><img src="`+o+'" alt="image-20211110105149943.png"></p>',28),d=[h];function A(g,u,k,b,m,f){return i(),a("div",null,d)}const D=s(r,[["render",A]]);export{O as __pageData,D as default};
